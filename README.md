# 2122197
CFPB_Assessment_database

Applicant ID# 2122197

Github public repository: https://github.com/2122197/2122197.git

There are four reports that I have generated using the in-memory Open Source database SQLite ver3. Below are the source-code SQL’s that are used to generate the CSV outputs that show summary statistics based on the Census ACS data and CFPB Consumer-Complaints. Below is the description that can also be found in ‘exec.sql’ file that is found in the attached ‘cfpb.sqlite’ database.
These reports can also be generated by executing the SQL file using these simple steps:
sqlite> .open test.sqlite
sqlite> .read exec.sql



---- Report 1: Summary data indicating zip codes with the highest compaints Desc with the State they belong to.
SELECT COUNT(*) as issue_count, TRANS.zipcode, TRANS.STATE FROM
(
select G.FILEID, G.STUSAB, G.SUMLEVEL, G.COMPONENT, G.LOGRECNO, G.UR as Urban, G.PCI as Metro, G.GEOID, G.NAME, C.* from consumer_complaints C, geography_acs G
where C.zipcode = G.zcta5 
AND TRIM(G.zcta5) != '' AND TRIM(C.zipcode) != ''   
) as TRANS
group by TRANS.zipcode, TRANS.STATE order by  issue_count desc ;   --25,211 recs


---- Report 2: Summary data indicating all valid US regional States with the highest compaints desc
SELECT COUNT(*) as issue_count, TRANS.STATE FROM
(
select G.FILEID, G.STUSAB, G.SUMLEVEL, G.COMPONENT, G.LOGRECNO, G.UR as Urban, G.PCI as Metro, G.GEOID, G.NAME, C.* from consumer_complaints C, geography_acs G
where C.zipcode = G.zcta5 
AND TRIM(G.zcta5) != '' AND TRIM(C.zipcode) != ''   
) as TRANS 
group by TRANS.STATE HAVING TRANS.STATE != '' order by issue_count desc ;  --61 recs
 

---- Report 3: Showing which Products have the highest complaints across US regions
SELECT COUNT(*) as Product_issue_count, TRANS.STATE, TRANS.Product FROM
(
select G.FILEID, G.STUSAB, G.SUMLEVEL, G.COMPONENT, G.LOGRECNO, G.UR as Urban, G.PCI as Metro, G.GEOID, G.NAME, C.* from consumer_complaints C, geography_acs G
where C.zipcode = G.zcta5 
AND TRIM(G.zcta5) != '' AND TRIM(C.zipcode) != ''   
) as TRANS 
group by  TRANS.STATE, TRANS.Product  HAVING TRANS.STATE != '' order by TRANS.Product , Product_issue_count DESC  ;  --594 recs


---- Report 4: Showing which Companies have the highest complaints across US regions
SELECT COUNT(*) as Company_issue_count, TRANS.Company FROM
(
select G.FILEID, G.STUSAB, G.SUMLEVEL, G.COMPONENT, G.LOGRECNO, G.UR as Urban, G.PCI as Metro, G.GEOID, G.NAME, C.* from consumer_complaints C, geography_acs G
where C.zipcode = G.zcta5 
AND TRIM(G.zcta5) != '' AND TRIM(C.zipcode) != ''   
) as TRANS 
group by  TRANS.Company  order by Company_issue_count DESC  ;  --3228 recs
